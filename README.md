Лабораторна робота №4 Архітектура ПЗ
---

### Team:
+ [Matviy Kyryk](https://github.com/MatthewKirik)
+ [Baturkin Ivan](https://github.com/gurug-prog)
+ [Kukharuk Oleksandr](https://github.com/VipDipp) 

## Пакет engine

### commandQueue

- Черга включає в себе `sync.Cond` для забезпечення контролю наявності в ній команд

- Метод `pull()` реалізовано таким чином, що він спочатку викликає `Lock()`, та якщо немає команд в черзі 'чекає' на них, після того як вона з'являється повертає команду та викликає `Unlock()`.

- Метод `push()` також викликає `Lock()`, додає команду до черги, викликає `Unlock()` та, якщо `pull()` чекає на нові команди 'будить' горутини, які чекають на команди в черзі


### EventLoop

- EventLoop використовується для виконання команд в окремій горутині, що запущена в циклі подій. Команди додаються через метод `Post(...)` об'єкту `trustedHandler`, який реалізує поведінку інтерфейсу `Handler` і використовується лише в циклі подій. 

- При виклику `Start()` ми ініціалізуємо та запускаємо цикл подій.  

- Інтерфейсний метод `Post(...)` дозволяє користувачеві циклу додавати команди в чергу.

- Метод `AwaitFinish()` нам потрібен для того, щоб сказати циклу подій, що якась горутина чекає на те, щоб цикл завершився. Метод реалізовано у такий спосіб, що очікувати завершення циклу подій можуть скільки завгодно горутин. Метод особливий тим, що якщо цикл вже зупинений, то керування повертається тій горутині, яка викликала `AwaitFinish()`.

## Пакет command

- Функція `Parse(...)` отримує рядок команди, перевіряє на правильність та в залежності від результату повертає команду, що виводитиме помилку або повністю готову команду до виконання.  

- Cтруктури `PrintCmd`, `SplitCmd` визначають логіку виконання команд split та print 
